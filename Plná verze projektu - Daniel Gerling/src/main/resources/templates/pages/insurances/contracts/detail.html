<!DOCTYPE html>

<html lang="cs-cz">
    <head th:replace="~{fragments/layout.html :: head}">
    
    </head>

    <header th:replace="~{fragments/layout.html :: header}">

    </header>

    <body id="main-page">
        <article class="pb-5">
            <div class="tile-background">
                <h2 th:text="${pageTitle}"></h2>

                <section class="px-4 py-4 list-group" style="z-index: 1;">
                    <h2 class="list-group-item">
                        <a th:href="@{${insuranceReferenceLink} + ${insurance.insurancesId}}"
                        th:text="${insurance.name}">
                        </a>
                    </h2>
                </section>

                <section class="px-4 py-4">
                    <button sec:authorize="hasAnyRole('MANAGER', 'ADMINISTRATOR')" onclick="return confirm('Opravdu si přejete pozměnit tuto smlouvu?');">
                        <a th:href="@{'contract-' + ${contractId} + '/edit'}">Upravit smlouvu</a>
                    </button>

                    <div class="form-group">
                        <label for="contract-number" class="control-label">Číslo smlouvy:</label>
                        <input id="contract-number" type="text" class="form-control" th:field="${contractDetails.contractNumber}" readonly>
                    </div>

                    <div class="form-group">
                        <label for="removal-reason" class="control-label">Subjekt k Pojištění:</label>
                        <input id="removal-reason" th:field="${contractDetails.insuredSubject.displayName}" class="form-select" readonly>
                    </div>

                    <div class="form-group">
                        <label for="insurance-type" class="control-label">Typ pojištění:</label>
                        <input id="removal-reason" th:field="${contractDetails.insuranceType.displayName}" class="form-select" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="begin-date" class="control-label">Datum zahájení:</label>
                        <input id="begin-date" type="date" class="form-control" th:value="${contractDetails.beginDate}" readonly>
                    </div>                

                    <div class="form-group">
                        <label for="signature-date" class="control-label">Datum podpisu smlouvy:</label>
                        <input id="signature-date" type="date" class="form-control" th:value="${contractDetails.signatureDate}" readonly>
                    </div>

                    <div class="form-group">
                        <label for="price-per-period" class="control-label">Cena za období:</label>
                        <input id="price-per-period" type="number" class="form-control" th:field="${contractDetails.pricePerPeriod}" readonly>
                    </div>

                    <div class="form-group">
                        <label for="liability-percentage" class="control-label">Procentuální spoluúčast:</label>
                        <input id="liability-percentage" type="number" step="0.01" class="form-control" th:field="${contractDetails.liabilityPercentage}" readonly>
                    </div>
                </section>

                <article class="px-4 py-4">
                    <ul class="list-group" id="found-insurees">
                        <li th:each="party: ${insuredPartiesWithRoles}" class="list-group-item">
                            <h2>
                                <a th:href="@{${referenceLink} + ${party.partyEntity.partyId}}"
                                th:text="${party.partyEntity.name + ' — ' + party.contractRole.displayName}">
                                </a>
                            </h2>
                        </li>
                    </ul>
                </article>
            </div>
        </article>
        
        <footer th:replace="~{fragments/layout.html :: footer}"></footer>
    </body>
</html>
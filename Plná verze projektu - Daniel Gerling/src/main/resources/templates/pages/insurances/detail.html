<!DOCTYPE html>

<html lang="cs-cz">
    <head th:replace="~{fragments/layout.html :: head}">
    
    </head>

    <header th:replace="~{fragments/layout.html :: header}">

    </header>

    <body id="main-page">
        <article class="pb-5">
            <div class="tile-background">
                <h2 th:text="${pageTitle}"></h2>

                <button th:unless="${ifShowDeleteForm}" sec:authorize="hasAnyRole('MANAGER', 'ADMINISTRATOR')" onclick="return confirm('Opravdu si přejete pozměnit toto pojištění?');">
                    <a th:href="@{'insurance-' + ${insurancesId} + '/edit'}">Upravit pojištění</a>
                </button>

                <section th:replace="~{fragments/layout.html :: insuranceDetailsForm}"></section>
            </div>

            <div class="tile-background" th:if="${ifShowDeleteForm}">
                <section class="px-4 py-4">
                    <div class="form-group">
                        <label for="removal-reason" class="control-label">Důvod odstranění pojištění:</label>
                        <input id="name" type="text" th:field="${insurancesReasonsDTO.removalReason.displayName}" class="form-control" readonly>
                    </div>

                    <div class="form-group">
                        <label for="request-date" class="control-label">Datum požadavku:</label>
                        <input id="name" type="date" th:value="${insurancesReasonsDTO.requestDate}" class="form-control" readonly>
                    </div>

                    <div class="form-group">
                        <label for="delete-description" class="control-label">Popis důvodu odstranění:</label>
                        <textarea id="name" type="text" th:field="${insurancesReasonsDTO.deleteDescription}" class="form-control" readonly></textarea>
                    </div>
                </section>

                <form id="hiddenForm" method="post" th:action="@{${confirmationLink}}" style="display: none;"></form>

                <button type="submit" form="hiddenForm" class="btn btn-primary">Odebrat</button>
            </div>
        </article>
        <footer th:replace="~{fragments/layout.html :: footer}"></footer>
    </body>
</html>